<mvc:View
  controllerName="converted.purchaseorderview.controller.PurchaseOrderView"
  xmlns:mvc="sap.ui.core.mvc"
  xmlns="sap.m"
  xmlns:layout="sap.ui.layout"
  xmlns:form="sap.ui.layout.form"
  xmlns:core="sap.ui.core"
  displayBlock="true"
          xmlns:commons="sap.ui.commons">
  <Page
    title="Standard PO {purchaseOrderHeader>/PurchaseOrderHeader/PONumber} Created by ZECHA"
    enableScrolling="true">
    <content>
      <!-- General Information Section -->
      <layout:Grid containerQuery="true" defaultSpan="XL3 L3 M6 S12">
        <layout:content>
          <Label text="Vendor"/>
          <Input value="{purchaseOrderHeader>/PurchaseOrderHeader/VendorName}" editable="false"/>
          <Label text="Doc. date"/>
          <Input value="{purchaseOrderHeader>/PurchaseOrderHeader/DocumentDate}" editable="false"/>
          <Label text="Purchasing Org."/>
          <Input value="{purchaseOrderHeader>/PurchaseOrderHeader/PurchasingOrgID}" editable="true"/>
          <Label text="Purch. Group"/>
          <Input value="{purchaseOrderHeader>/PurchaseOrderHeader/PurchasingGroupID}" editable="true"/>
          <Label text="Company Code"/>
          <Input value="{purchaseOrderHeader>/PurchaseOrderHeader/CompanyCodeID}" editable="true"/>
        </layout:content>
      </layout:Grid>

      <!-- Tab Strip -->
      <IconTabBar
        id="iconTabBar"
        expandable="false"
        expanded="true"
        class="sapUiResponsiveContentPadding">
        <items>
          <IconTabFilter
            id="deliveryInvoiceTab"
            text="Delivery/Invoice"
            key="DELIVERY_INVOICE">
            <List items="{deliveryInvoice>/}">
              <StandardListItem title="{deliveryInvoice>Item}" description="{deliveryInvoice>Description}"/>
            </List>
          </IconTabFilter>
          <IconTabFilter
            id="conditionsTab"
            text="Conditions"
            key="CONDITIONS">
            <List items="{conditions>/}">
              <StandardListItem title="{conditions>ConditionName}" description="{conditions>ConditionValue}"/>
            </List>
          </IconTabFilter>
          <IconTabFilter
            id="textsTab"
            text="Texts"
            key="TEXTS">
            <List items="{texts>/}">
              <StandardListItem title="{texts>TextName}" description="{texts>TextValue}"/>
            </List>
          </IconTabFilter>
          <IconTabFilter
            id="addressTab"
            text="Address"
            key="ADDRESS">
            <List items="{address>/}">
              <StandardListItem title="{address>AddressType}" description="{address>AddressValue}"/>
            </List>
          </IconTabFilter>
          <IconTabFilter
            id="communicationTab"
            text="Communication"
            key="COMMUNICATION">
            <List items="{communication>/}">
              <StandardListItem title="{communication>CommType}" description="{communication>CommValue}"/>
            </List>
          </IconTabFilter>
          <IconTabFilter
            id="partnersTab"
            text="Partners"
            key="PARTNERS">
            <List items="{partners>/}">
              <StandardListItem title="{partners>PartnerName}" description="{partners>PartnerRole}"/>
            </List>
          </IconTabFilter>
          <IconTabFilter
            id="additionalDataTab"
            text="Additional Data"
            key="ADDITIONAL_DATA">
            <List items="{additionalData>/}">
              <StandardListItem title="{additionalData>DataName}" description="{additionalData>DataValue}"/>
            </List>
          </IconTabFilter>
          <IconTabFilter
            id="orgDataTab"
            text="Org. Data"
            key="ORG_DATA">
            <content>
              <form:SimpleForm
                editable="true"
                layout="ResponsiveGridLayout"
                title="Organization Data"
                labelSpanXL="4"
                labelSpanL="4"
                labelSpanM="4"
                labelSpanS="12"
                adjustLabelSpan="false"
                emptySpanXL="0"
                emptySpanL="0"
                emptySpanM="0"
                emptySpanS="0"
                columnsXL="2"
                columnsL="2"
                columnsM="2"
                singleContainerFullSize="false">
                <form:content>
                  <Label text="Purchasing Org."/>
                  <Input
                    value="{purchaseOrderHeader>/PurchaseOrderHeader/PurchasingOrgID}"
                    editable="true"/>

                  <Label text="Purch. Group"/>
                  <Input
                    value="{purchaseOrderHeader>/PurchaseOrderHeader/PurchasingGroupID}"
                    editable="true"/>

                  <Label text="Company Code"/>
                  <Input
                    value="{purchaseOrderHeader>/PurchaseOrderHeader/CompanyCodeID}"
                    editable="true"/>
                </form:content>
              </form:SimpleForm>
            </content>
          </IconTabFilter>
          <IconTabFilter
            id="statusTab"
            text="Status"
            key="STATUS">
            <List items="{status>/}">
              <StandardListItem title="{status>StatusType}" description="{status>StatusValue}"/>
            </List>
          </IconTabFilter>
        </items>
      </IconTabBar>

      <!-- Line Item Table -->
      <Table
        id="poItemTable"
        items="{purchaseOrderItems>/}"
        width="auto"
        growing="true"
        growingThreshold="20">
        <headerToolbar>
          <Toolbar>
            <Title id="tableTitle" text="Purchase Order Items"/>
            <ToolbarSpacer/>
            <SearchField
              id="searchField"
              width="auto"
              placeholder="Search"
              search="onSearch"/>
            <Button
              icon="sap-icon://excel-attachment"
              press="onExportToExcel"
              tooltip="Export to Excel"/>
            <Button
              icon="sap-icon://download"
              press="onExportToCSV"
              tooltip="Export to CSV"/>
          </Toolbar>
        </headerToolbar>
        <columns>
          <Column width="4rem">
            <Text text="Item"/>
          </Column>
          <Column>
            <Text text="Material"/>
          </Column>
          <Column>
            <Text text="Short Text"/>
          </Column>
          <Column>
            <Text text="PO Quantity"/>
          </Column>
          <Column>
            <Text text="Deliv. Date"/>
          </Column>
          <Column>
            <Text text="Net Price"/>
          </Column>
          <Column>
            <Text text="Curr."/>
          </Column>
          <Column>
            <Text text="Plant"/>
          </Column>
          <Column>
            <Text text="Stor. Location"/>
          </Column>
          <Column>
            <Text text="Matl Group"/>
          </Column>
        </columns>
        <items>
          <ColumnListItem>
            <cells>
              <Text text="{purchaseOrderItems>ItemNumber}"/>
              <Text text="{purchaseOrderItems>MaterialNumber}"/>
              <Text text="{purchaseOrderItems>ShortText}"/>
              <Text text="{purchaseOrderItems>POQuantity}"/>
              <Text text="{purchaseOrderItems>DeliveryDate}"/>
              <Text text="{purchaseOrderItems>NetPrice}"/>
              <Text text="{purchaseOrderItems>Currency}"/>
              <Text text="{purchaseOrderItems>Plant}"/>
              <Text text="{purchaseOrderItems>StorageLocation}"/>
              <Text text="{purchaseOrderItems>MaterialGroup}"/>
            </cells>
          </ColumnListItem>
        </items>
      </Table>

      <!-- Item Detail Section -->
      <Panel headerText="Item Detail">
        <content>
          <IconTabBar
            id="itemIconTabBar"
            expandable="false"
            expanded="true"
            class="sapUiResponsiveContentPadding">
            <items>
              <IconTabFilter
                id="materialDataTab"
                text="Material Data"
                key="MATERIAL_DATA">
                  <List items="{materialData>/}">
                    <StandardListItem title="{materialData>MaterialName}" description="{materialData>MaterialDescription}"/>
                  </List>
              </IconTabFilter>
              <IconTabFilter
                id="quantitiesWeightsTab"
                text="Quantities/Weights"
                key="QUANTITIES_WEIGHTS">
                <List items="{quantitiesWeights>/}">
                  <StandardListItem title="{quantitiesWeights>Quantity}" description="{quantitiesWeights>Weight}"/>
                </List>
              </IconTabFilter>
              <IconTabFilter
                id="deliveryScheduleTab"
                text="Delivery Schedule"
                key="DELIVERY_SCHEDULE">
                  <List items="{deliverySchedule>/}">
                    <StandardListItem title="{deliverySchedule>ScheduleDate}" description="{deliverySchedule>ScheduleQuantity}"/>
                  </List>
              </IconTabFilter>
              <IconTabFilter
                id="deliveryTab"
                text="Delivery"
                key="DELIVERY">
                <List items="{delivery>/}">
                  <StandardListItem title="{delivery>DeliveryType}" description="{delivery>DeliveryStatus}"/>
                </List>
              </IconTabFilter>
              <IconTabFilter
                id="invoiceTab"
                text="Invoice"
                key="INVOICE">
                <content>
                  <form:SimpleForm
                    editable="true"
                    layout="ResponsiveGridLayout"
                    title="Invoice Details"
                    labelSpanXL="4"
                    labelSpanL="4"
                    labelSpanM="4"
                    labelSpanS="12"
                    adjustLabelSpan="false"
                    emptySpanXL="0"
                    emptySpanL="0"
                    emptySpanM="0"
                    emptySpanS="0"
                    columnsXL="2"
                    columnsL="2"
                    columnsM="2"
                    singleContainerFullSize="false">
                    <form:content>
                      <CheckBox text="Inv. Receipt"/>
                      <CheckBox text="Final Invoice"/>
                      <CheckBox text="GR-Bsd IV"/>
                      <CheckBox text="ERS"/>

                      <Label text="Tax code"/>
                      <Input value=""/>
                      <Button text="Taxes"/>
                    </form:content>
                  </form:SimpleForm>
                </content>
              </IconTabFilter>
              <IconTabFilter
                id="itemConditionsTab"
                text="Conditions"
                key="ITEM_CONDITIONS">
                 <List items="{itemConditions>/}">
                    <StandardListItem title="{itemConditions>ConditionType}" description="{itemConditions>ConditionValue}"/>
                 </List>
              </IconTabFilter>
              <IconTabFilter
                id="purchaseOrderHistoryTab"
                text="Purchase Order History"
                key="PO_HISTORY">
                 <List items="{purchaseOrderHistory>/}">
                    <StandardListItem title="{purchaseOrderHistory>HistoryEvent}" description="{purchaseOrderHistory>HistoryDate}"/>
                 </List>
              </IconTabFilter>
              <IconTabFilter
                id="itemTextsTab"
                text="Texts"
                key="ITEM_TEXTS">
                 <List items="{itemTexts>/}">
                    <StandardListItem title="{itemTexts>TextType}" description="{itemTexts>TextContent}"/>
                 </List>
              </IconTabFilter>
              <IconTabFilter
                id="deliveryAddressTab"
                text="Delivery Address"
                key="DELIVERY_ADDRESS">
                  <List items="{deliveryAddress>/}">
                    <StandardListItem title="{deliveryAddress>AddressLine1}" description="{deliveryAddress>AddressCity}"/>
                 </List>
              </IconTabFilter>
              <IconTabFilter
                id="confirmationsTab"
                text="Confirmations"
                key="CONFIRMATIONS">
                 <List items="{confirmations>/}">
                    <StandardListItem title="{confirmations>ConfirmationType}" description="{confirmations>ConfirmationDate}"/>
                 </List>
              </IconTabFilter>
            </items>
          </IconTabBar>
        </content>
      </Panel>
    </content>
  </Page>
</mvc:View>